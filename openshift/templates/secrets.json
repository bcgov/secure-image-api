{
  "kind": "Template",
  "apiVersion": "v1",
  "metadata": {
    "name": "${NAME}-deployment-template",
    "annotations": {
      "description": "Create secrets for deployment."
    }
  },
  "objects": [{
    "kind": "Secret",
    "type": "Opaque",
    "apiVersion": "v1",
    "metadata": {
      "name": "sso",
      "labels": {
        "app": "${NAME}"
      }
    },
    "stringData": {
      "ssoClientSecret": "${API_SESSION_SECRET}"
    }
  },
  {
    "kind": "Secret",
    "type": "Opaque",
    "apiVersion": "v1",
    "metadata": {
      "name": "${NAME}",
      "labels": {
        "app": "${NAME}"
      }
    },
    "stringData": {
      "apiSessionSecret": "${API_SESSION_SECRET}"
    }
  }],
  "parameters": [{
      "name": "NAME",
      "displayName": "Name",
      "description": "The name assigned to all of the objects defined in this template.  You should keep this as default unless your know what your doing.",
      "required": true,
      "value": "secure-image-api"
    },
    {
      "name": "API_SESSION_SECRET",
      "displayName": "Express session secret",
      "generate": "expression",
      "from": "[a-zA-Z0-9]{16}",
      "required": true
    },
    {
      "name": "SSO_CLIENT_SECRET",
      "displayName": "Express session secret",
      "required": true
    }
  ]
}